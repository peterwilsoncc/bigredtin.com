<?xml version="1.0" encoding="UTF-8"?> <rss
version="2.0"
xmlns:content="http://purl.org/rss/1.0/modules/content/"
xmlns:wfw="http://wellformedweb.org/CommentAPI/"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:atom="http://www.w3.org/2005/Atom"
xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
><channel><title>Big Red Tin &#187; CSS</title> <atom:link href="/tag/css/feed/" rel="self" type="application/rss+xml" /><link>http://bigredtin.com</link> <description>Thoughts about the web and business from the large pantry</description> <lastBuildDate>Thu, 30 Dec 2010 14:33:55 +0000</lastBuildDate> <language>en</language> <sy:updatePeriod>hourly</sy:updatePeriod> <sy:updateFrequency>1</sy:updateFrequency> <item><title>HTML5: I couldn&#8217;t (quite) do it</title><link>/behind-the-websites/html5-couldnt-do-it/</link> <comments>/behind-the-websites/html5-couldnt-do-it/#comments</comments> <pubDate>Mon, 13 Dec 2010 04:40:36 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[accessibility]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[html]]></category> <category><![CDATA[html5]]></category> <category><![CDATA[JavaScript]]></category> <category><![CDATA[usability]]></category><guid
isPermaLink="false">/?p=967</guid> <description><![CDATA[I found it difficult to use pure and semantic <abbr>HTML5</abbr> when dealing with current versions of Internet Explorer. I really tried to adopt the commonly advocated view that it's okay to require website visitors have JavaScript enabled but settled on a different option I could actually live with.]]></description> <content:encoded><![CDATA[<p>For most of my career as a web developer I&#8217;ve produced websites that work without JavaScript. For the JavaScript impaired the sites may be missing a minor visual feature or be a little clunky in places, but they work and the meaning remains clear. It doesn&#8217;t bother me that, sometimes, the cost of allowing for sites to load without JavaScript can mean missing out on the latest web fashion. I&#8217;m <a
title="Why I will not be dropping support for IE6" href="/behind-the-websites/not-dropping-ie6/">not a big fan of fashion</a>.</p><p>Currently, web development is undergoing some major transitions: the <abbr>HTML5</abbr> spec is being developed and <abbr>CSS3</abbr> is being implemented. The browser wars have returned, although this time around, it&#8217;s a battle to win developers&#8217; hearts by implementing the newest standards.</p><p>Now is the time for developers to re-evaluate their past practices; moving on from the old and embracing the new. I kept that ethos in mind when upgrading the Soupgiant WordPress base theme recently. Among other things we were porting it to <abbr>HTML5</abbr>.</p><p><span
id="more-967"></span></p><p>I really tried to adopt the commonly advocated view that it&#8217;s okay to require website visitors have JavaScript enabled. It was going very well, right up to the final hurdle when I couldn&#8217;t resist checking the site I was working on without JavaScript.</p><p>Everything looked fine in Chrome, Firefox, and Opera. It was, predictably, Internet Explorer that threw a spanner in the works. For an artist&#8217;s impression, <a
href="http://code.bigredtin.com/html5/">visit the demo in <abbr>IE8</abbr></a> (<a
href="http://www.webpagetest.org/result/101213_2W1A/1/screen_shot/">screenshot</a> via WebPageTest):</p><div
id="attachment_970" class="wp-caption aligncenter" style="width: 310px"><a
href="http://www.webpagetest.org/result/101213_2W1A/1/screen_shot/"><img
class="size-medium wp-image-970 " title="HTML5 as seen in IE8" src="/files/2010/12/ie8html5-300x166.jpg" alt="" width="300" height="166" /></a><p
class="wp-caption-text">HTML5 as seen in IE8</p></div><p>Without <a
href="http://remysharp.com/2009/01/07/html5-enabling-script/">Remy Sharp&#8217;s <abbr>HTML5</abbr> enabling script</a> the site I was working on was unusable, if anything, it looked worse than the demo provided.</p><p>I couldn&#8217;t, in good faith, sell a website to a client that some visitors would find unstyled, half styled or difficult to follow in places. I didn&#8217;t want to throw out the baby with the bathwater, the additional meaning provided by <abbr>HTML5</abbr> elements is just too great. <code>&lt;header&gt;</code>, <code>&lt;section&gt;</code>, <code>&lt;nav&gt;</code>, <code>&lt;article&gt;</code>, etc all provide meaning to a document that it&#8217;s difficult to justify going without.</p><p>It&#8217;s with the additional meaning in mind that I decided to go with &#8211; what I&#8217;ve dubbed &#8211; <abbr>HTML4.5</abbr>. <abbr>HTML5</abbr> provides the meaning while using traditional <abbr>HTML</abbr> 4 tags as hooks for styling. It introduces a bit of tag soup, as instead of <code>&lt;article id="content"&gt; ... &lt;/article&gt;</code> the code becomes <code>&lt;div id="content"&gt;&lt;article&gt; ... &lt;/article&gt;&lt;/div&gt;</code>.</p><p>The improvement to site I was working on was immediate, as you can see by <a
href="http://code.bigredtin.com/html5/html45.html">visiting the <abbr>html4.5</abbr> demo in IE8</a> (<a
href="http://www.webpagetest.org/result/101213_2W1B/1/screen_shot/">screenshot</a> via WebPageTest):</p><div
id="attachment_973" class="wp-caption aligncenter" style="width: 310px"><a
href="http://www.webpagetest.org/result/101213_2W1B/1/screen_shot/"><img
class="size-medium wp-image-973" title="HTML4.5 as seen in IE8" src="/files/2010/12/html45-300x174.jpg" alt="" width="300" height="174" /></a><p
class="wp-caption-text">HTML4.5 as seen in IE8</p></div><h4>I don&#8217;t care about tag soup</h4><p>If given the choice between an unusable website for some visitors or a little tag bloat, I&#8217;ll take the bloat any day of the week. In the demo the bloat adds an extra 14 bytes. On the home page for the site I was working on, it&#8217;s 40 bytes. I save plenty more than 40 bytes by minimising my JavaScript and <abbr>CSS</abbr> (a single key combo with the <a
href="http://www.experienceinternet.co.uk/software/yui-compressor-textmate-bundle/">YUI Compressor TextMate bundle</a>), so I&#8217;m not too concerned about the side effects.</p><p>A technically beautiful site is the ideal but if a portion of your visitors can&#8217;t use it, then the beauty isn&#8217;t even skin deep. As <a
href="http://allinthehead.com/">Drew McLellan</a> said recently on <a
href="http://24ways.org/2010/finding-your-way-with-static-maps">24 ways</a>, progressive enhancement is &#8220;also known as doing our jobs properly.&#8221;</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/html5-couldnt-do-it/feed/</wfw:commentRss> <slash:comments>11</slash:comments> </item> <item><title>How @font-face loads in different browsers</title><link>/quick-notes/how-font-face-loads-in-different-browsers/</link> <comments>/quick-notes/how-font-face-loads-in-different-browsers/#comments</comments> <pubDate>Thu, 02 Dec 2010 23:36:03 +0000</pubDate> <dc:creator>Josh Kinal</dc:creator> <category><![CDATA[Quick Notes]]></category> <category><![CDATA[@font-face]]></category> <category><![CDATA[chrome]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[fonts]]></category> <category><![CDATA[internet explorer]]></category> <category><![CDATA[JavaScript]]></category> <category><![CDATA[safari]]></category><guid
isPermaLink="false">/?p=955</guid> <description><![CDATA[Why do you sometimes see the fonts change on a website after it loads? This is just one of the many ways browsers behave differently, as explained in this quote from Richard Rutter.]]></description> <content:encoded><![CDATA[<p>From <a
href="http://24ways.org/2010/using-the-webfont-loader-to-make-browsers-behave-the-same"><em>24 ways</em>: Using the WebFont Loader to Make Browsers Behave the Same</a>:</p><blockquote><p>&#8220;Safari, Chrome and Internet Explorer leave a blank space in place of the styled text while the web font is loading. Opera and Firefox show text with the default font which switches over when the web font has loaded, resulting in the so-called Flash of Unstyled Text (aka FOUT).&#8221;</p></blockquote><p> <a
href="http://clagnut.com/" title="Clagnut is Richard Rutter">Richard Rutter</a> wrote <a
href="http://24ways.org/2010/using-the-webfont-loader-to-make-browsers-behave-the-same" title="24 ways: Using the WebFont Loader to Make Browsers Behave the Same">an excellent piece</a> about how to avoid these different behaviours. I thought it was worth quoting and linking to twice.</p> ]]></content:encoded> <wfw:commentRss>/quick-notes/how-font-face-loads-in-different-browsers/feed/</wfw:commentRss> <slash:comments>0</slash:comments> </item> <item><title>Selectivizr with CSS on a sub-domain</title><link>/behind-the-websites/selectivizr-with-css-on-a-cdn/</link> <comments>/behind-the-websites/selectivizr-with-css-on-a-cdn/#comments</comments> <pubDate>Sun, 24 Oct 2010 17:29:10 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[CDN]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[CSS3]]></category> <category><![CDATA[html5]]></category> <category><![CDATA[Selectivizr]]></category> <category><![CDATA[selectors]]></category><guid
isPermaLink="false">/?p=886</guid> <description><![CDATA[Updating the <a
title="Soupgiant" href="http://soupgiant.com">Soupgiant</a> base WordPress theme recently (among other things we were porting it to <abbr>HTML5</abbr>), we needed to decide which <a
title="shims and/or polyfills" href="http://remysharp.com/what-is-a-polyfill/">shims and/or polyfills</a> to use. We starterd with <a
title="on Remy Sharp's blog" href="http://remysharp.com/2009/01/07/html5-enabling-script/">Remy Sharp's HTML5 enabling script</a> but another to consider was <a
title="Selectivizr" href="http://selectivizr.com/">Selectivizr</a> to improve <abbr
title="Internet Explorer">IE</abbr>'s support of <abbr
title="Cascading Style Sheets, Version 3">CSS3</abbr> selectors.]]></description> <content:encoded><![CDATA[<p>Updating the <a
title="Soupgiant" href="http://soupgiant.com">Soupgiant</a> base WordPress theme recently (among other things we were porting it to <abbr>HTML5</abbr>), we needed to decide which <a
title="shims and/or polyfills" href="http://remysharp.com/what-is-a-polyfill/">shims and/or polyfills</a> to use. We starterd with <a
title="on Remy Sharp's blog" href="http://remysharp.com/2009/01/07/html5-enabling-script/">Remy Sharp&#8217;s HTML5 enabling script</a> but another to consider was <a
title="Selectivizr" href="http://selectivizr.com/">Selectivizr</a> to improve <abbr
title="Internet Explorer">IE</abbr>&#8216;s support of <abbr
title="Cascading Style Sheets, Version 3">CSS3</abbr> selectors.</p><p>One of the disadvantages of using Selectivizr is it rules out using a <abbr
title="content distribution network ">CDN</abbr> for one&#8217;s style sheets. To quote their site:</p><blockquote><p>Style sheets MUST be hosted on the same domain as the page due to browser security restrictions. Likewise,  style sheets loaded using the <code>file:</code> protocol will not work.</p></blockquote><p>Normally, particularly for low traffic sites, this wouldn&#8217;t be of great concern. As we share style sheets across sites (both Big Red Tin &amp; <a
title="our Business site" href="http://soupgiant.com/">Soupgiant</a> use the same <abbr>CSS</abbr>) and use the <abbr>CDN</abbr> feature of <a
title="the WordPress Plugin" href="http://wordpress.org/extend/plugins/w3-total-cache/">W3 Total Cache</a> on our hosted WordPress sites, it could cause problems down the track.</p><p>After umming and ahhing for a couple of days, the following solution involving <a
title="defined on 'quircksmode'" href="http://www.quirksmode.org/css/condcom.html">conditional comments</a>, occurred to us:</p><pre>&lt;!--[if gte IE 9]&gt;&lt;!--&gt;
&lt;link rel="stylesheet" href="http://cdn.example.com/styles.css" type="text/css"&gt;
&lt;!--&lt;![endif]--&gt;

&lt;!--[if lte IE 8]&gt;
&lt;link rel="stylesheet" href="/styles.css" type="text/css"&gt;
&lt;![endif]--&gt;</pre><p>With a few lines of conditional comments, browsers supporting the relevant selectors natively can take advantage of the performance boost from a <abbr>CDN</abbr> while developers can take advantage of the advanced selector support provided by Selectivizr for IE&lt;9 users.</p><p>We&#8217;ve set up a quick <a
title="demonstration" href="http://code.bigredtin.com/selectivizr/">demonstration</a> in which three paragraphs have different <abbr
title="Accessible Rich Internet Applications">ARIA</abbr> roles &#8211; featured, unfeatured and neverfeatured &#8211; different styles are applied to each paragraph using [role=something]. The demo renders fully in: IE 6-9beta, Firefox (Win &amp; Mac), Chrome (Mac), Safari (Mac), and Opera (Mac).</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/selectivizr-with-css-on-a-cdn/feed/</wfw:commentRss> <slash:comments>2</slash:comments> </item> <item><title>A half-baked (CSS) idea</title><link>/behind-the-websites/a-half-baked-css-idea/</link> <comments>/behind-the-websites/a-half-baked-css-idea/#comments</comments> <pubDate>Mon, 20 Sep 2010 19:22:46 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[coding]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[data-URIs]]></category> <category><![CDATA[JavaScript]]></category><guid
isPermaLink="false">/?p=836</guid> <description><![CDATA[<a
title="Spritebaker" href="http://www.spritebaker.com/">Spritebaker</a> has done the rounds a fair bit in web development circles over the past few weeks. It’s a great idea, done well. The only problem is it has the strange effect of making it seem like the page is actually taking longer to load. I take a look at a possible solution.]]></description> <content:encoded><![CDATA[<p><a
title="Spritebaker" href="http://www.spritebaker.com/">Spritebaker</a> has been doing the rounds a fair bit in web development circles over the past few weeks, for the simple reason that it&#8217;s a great idea, done well. The best desciption comes from the site itself:</p><blockquote><p>It parses your css and returns a copy with all external media “baked” right into it as Base64 encoded datasets. The number of time consuming http-requests on your website is decreased significantly, resulting in a massive speed-boost.</p></blockquote><p>While baking images into your CSS to lower HTTP requests reduces the rendering time of your site overall, the downside is that CSS files <a
title="block the initial rendering" href="http://code.google.com/speed/page-speed/docs/rendering.html#PutCSSInHead">block the initial rendering</a> of your site. While an unbaked site may render and be built up as external images load, a baked site will not render until both the CSS and baked images have loaded. This has the strange effect of making it seem like the page is actually taking <em>longer</em> to load.</p><p>I&#8217;ve thrown together a quick example of an <a
title="unbaked page" href="http://code.bigredtin.com/spritebaker/unbaked.html">unbaked page</a> and its <a
title="baked equivalent" href="http://code.bigredtin.com/spritebaker/baked.html">baked equivalent</a>. In this example, the unbaked page begins rendering earlier than its baked counterpart but finishes later.</p><p>In an attempt to kick off rendering earlier, I tried what I&#8217;ve named a half-baked idea: splitting the <em>standard</em> CSS into one file and the baked images into another. My hope was that browsers would render the standard CSS while the other was still loading. As you can see on the <a
title="example page" href="http://code.bigredtin.com/spritebaker/halfbaked.html">example page</a>,  this failed.</p><p>With CSS only solutions delaying rendering of the page, it&#8217;s time to pull JavaScript out of our toolbox. Anyone whose read my article on <a
title="delaying loading of print CSS" href="/behind-the-websites/delay-loading-of-print-css/">delaying loading of print CSS</a> will find the solution eerily familiar. The CSS files are still split into the standard files and the file containing the baked-in images, the one with the baked in images is wrapped in &lt;noscript&gt; tags in the HTML head.</p><pre><code>&lt;link rel="stylesheet" href="halfbaked-1.css" type="text/css" /&gt;
&lt;noscript&gt;&lt;link rel="stylesheet" href="jshalfbaked-2.css" type="text/css" /&gt;&lt;/noscript&gt;</code></pre><p>This prevents the second/baked stylesheet from loading during the initial rendering of the page. Without this file blocking rendering, <a
title="this version of the example" href="http://code.bigredtin.com/spritebaker/jsbaked.html">this version of the example</a> begins rendering as quickly as the first, unbaked, example.</p><p>The second/baked stylesheet needs to be added using the JavaScript below:</p><pre><code>&lt;script type="text/javascript"&gt;
window.onload = function(){
  var cssNode = document.createElement('link');
  cssNode.type = 'text/css';
  cssNode.rel = 'stylesheet';
  cssNode.href = 'jshalfbaked-2.css';
  cssNode.media = 'all';
  document.getElementsByTagName("head")[0].appendChild(cssNode);
}
&lt;/script&gt;</code></pre><p>Using the method above for baking images into your CSS will give you the best of both worlds, your page will render quickly with a basic structure before a single HTTP request is used to load all of your images.</p><p>I used <a
title="Web Page Test" href="http://www.webpagetest.org">Web Page Test</a> to measure the first-run load times using IE9 Beta, averaged over 10 tests. On the test pages, with only a few images, the advantage of a baked stylesheet isn&#8217;t apparent, on a site with more images it would quickly become so.</p><table><thead><tr><th>Version</th><th>Starts Render</th><th>Fully Loaded</th></tr></thead><tbody><tr><td><a
title="Unbaked" href="http://www.webpagetest.org/result/100919_5CCK/">Unbaked</a></td><td>0.490s</td><td>1.652s</td></tr><tr><td><a
title="Baked" href="http://www.webpagetest.org/result/100919_5CCM/">Baked</a></td><td>1.862s</td><td>1.836s</td></tr><tr><td><a
title="Half baked" href="http://www.webpagetest.org/result/100919_5CCN/">Half baked</a></td><td>2.138s</td><td>2.114s</td></tr><tr><td><a
title="JS baked" href="http://www.webpagetest.org/result/100919_5CCP/">JS baked</a></td><td>0.499s</td><td>1.993s</td></tr></tbody><tbody></tbody></table><p>As the <a
title="Spritebaker Info page" href="http://www.spritebaker.com/info">Spritebaker info page</a> says, IE versions prior to IE8 don&#8217;t understand data-URIs, so you&#8217;ll need to use a generous sprinkling of conditional comments to load images the old fashioned way in these browsers.</p><p>The examples above were tested on IE9 Beta, Chrome 6.0, Safari 5.0, Opera 10.10 and Firefox 3.6.9. Individual results may vary.</p><p>We&#8217;d love to hear of your experiences with baking stylesheets, or other techniques you use to speed up apparent rendering of your page, especially if it slows the total load/rendering time.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/a-half-baked-css-idea/feed/</wfw:commentRss> <slash:comments>1</slash:comments> </item> <item><title>Delay Print Stylesheets Plugin</title><link>/behind-the-websites/delay-print-css-plugin/</link> <comments>/behind-the-websites/delay-print-css-plugin/#comments</comments> <pubDate>Fri, 27 Aug 2010 02:17:29 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[JavaScript]]></category> <category><![CDATA[plugin]]></category> <category><![CDATA[WordPress]]></category><guid
isPermaLink="false">http://bigredtin.pressgiant.net/?p=739</guid> <description><![CDATA[A few weeks ago I wrote a post in which I adapted an idea from a zOompf article to delay the loading of print stylesheets until after a web page has fully rendered. I've decided to convert the code from the original post into a plugin and add it to the WordPress plugin directory.]]></description> <content:encoded><![CDATA[<p>A few weeks ago I wrote a post in which I <a
title="adapted an idea from a zOompf article" href="/behind-the-websites/delay-loading-of-print-css/">adapted an idea from a zOompf article</a> to delay the loading of print stylesheets until after a web page has fully rendered. I finished that post with the following point/question:</p><blockquote><p>Another question to ask is whether all this is actually worth the effort – even when reduced through automation. On Big Red Tin, the print.css is 595 bytes, the delay in rendering is negligible.</p></blockquote><p>Chris and Jeff at <a
title="Digging into WordPress" href="http://digwp.com">Digging into WordPress</a> picked up the article and posted it on their site. In turn it was picked up elsewhere and became the surprise hit of the summer at Big Red Tin. Not bad when one is shivering through a bitter Melbourne winter.</p><p>As a result of the interest, I decided to convert the code from the original post into a plugin and add it to the WordPress plugin directory.</p><h4>Further Testing</h4><p>As I warned in the original article, I&#8217;d tested the code in very limited circumstances and found it had worked. Fine for a code sample but not enough for a sub version-1.0-release plugin. Additional testing showed:</p><ol><li>Stylesheets intended for IE, through conditional comments, were loading in all browsers</li><li>When loading multiple stylesheets, the correct order was not maintained in all browsers</li></ol><p>If jQuery was available I wanted to use it for JavaScript event management otherwise I&#8217;d use purpose-written JavaScript. There&#8217;s no point, after all, of worrying about the rendering delay caused by 600-1000 bytes only to load a 71KB (or 24KB <a
title="gzipped" href="http://developer.yahoo.net/blog/archives/2007/07/high_performanc_3.html">gzipped</a>) file in its place.</p><p>Other things I wanted to do included:</p><ol><li>Put the PHP in a class to reduce the risk of clashing function/class names</li><li>Put the JavaScript in its own namespace</li><li>Keep the output code as small as possible</li></ol><p>To support conditional comments for IE required adding each stylesheet within a separate &lt;script&gt; tag, using this method the output HTML takes the following form:</p><pre><code>&lt;script&gt;
  // add global print.css
&lt;/script&gt;
&lt;!--[if IE 6]&gt;
  &lt;script type='text/javascript'&gt;
    // add ie6 specific print.css
  &lt;/script&gt;
&lt;![endif]--&gt;</code></pre><p>This violates my aim to keep output as small as possible but footprint has to take second place to bug-free. I could have translated the code to use <a
title="JavaScript conditional comments" href="http://en.wikipedia.org/wiki/Conditional_comment#Conditional_Comment_in_JScript">JavaScript conditional comments</a> by translating the IE version to the JavaScript engine it uses but this could lead to future-proofing problems.</p><p>To maintain the order of stylesheets, I added each event to an array of functions and then used a single event to loop through the array of functions. If jQuery is used, I add multiple events because jQuery runs events on a first in first out basis.</p><p>Putting the PHP in a class and the JavaScript in its own namespace is fairly self-explanatory. <a
href="http://bit.ly/bBUXCh">Google is your friend</a> if you wish to read up further on this.</p><p>Minimising the footprint was also a simple step. I wrote the JavaScript out in full with friendly variable names. Once I was happy with the code, I ran the code through <a
href="http://refresh-sf.com/yui/">the YUI JavaScript compressor</a>, commented out the original JavaScript in the plugin file and output the compressed version in its place.</p><p>The JavaScript is output inline (within the HTML) to avoid additional HTTP requests. I was in two minds about this because browser caching is lost in the process. So it may change in a later version.</p><p>I&#8217;ve worked out another way to keep the footprint small. Rather than creating a function to pass the stylesheet&#8217;s URL and ID to <code>brt_print.add(url, id)</code>, I wrote out the full function for each style sheet. I&#8217;ll fix that in the next release.</p><p>You can <a
title="download" href="http://wordpress.org/extend/plugins/delay-print-css/download/">download</a> the <a
title="Delay Print CSS Plugin" href="http://http://wordpress.org/extend/plugins/delay-print-css/">Delay Print CSS Plugin</a> from the WordPress plugin repository.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/delay-print-css-plugin/feed/</wfw:commentRss> <slash:comments>0</slash:comments> </item> <item><title>Delay loading of print CSS</title><link>/behind-the-websites/delay-loading-of-print-css/</link> <comments>/behind-the-websites/delay-loading-of-print-css/#comments</comments> <pubDate>Wed, 28 Jul 2010 05:03:50 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[coding]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[JavaScript]]></category> <category><![CDATA[WordPress]]></category><guid
isPermaLink="false">http://bigredtin.pressgiant.net/?p=689</guid> <description><![CDATA[Recently I stumbled across an article detailing browser performance with the CSS print media type. In most recent browsers the print stylesheet held up rendering.The article suggested a solution, which I decided to automate for WordPress.]]></description> <content:encoded><![CDATA[<p>Recently I stumbled across an article on zOompf <a
title="detailing browser performance with the CSS print media type" href="http://zoompf.com/blog/2009/12/browser-performance-problem-with-css-print-media-type">detailing browser performance with the CSS print media type</a>. In most recent browsers, Safari being the exception, the print stylesheet held up rendering of the page.</p><p>The zOomph article suggests a solution, to load print stylesheets using JavaScript once the page has  rendered (ie, on the <code>window.onload</code> event), with a backup for the JavaScript impaired. You can see their code in the original article.</p><h4>Automating the task for WordPress</h4><p>Most sites I develop are in WordPress so I decided to automate the process. This relies on using <code>wp_enqueue_style</code> to register the stylesheets:</p><pre><code>function enqueue_css(){
  if (!is_admin()){
    wp_enqueue_style (
      'bigred-print', /* handle */
      '/path-to/print.css', /* source */
      null, /* no requirements */
      '1.0', /* version */
      'print' /* media type */
    );
  }
}
add_action('wp_print_styles', 'enqueue_css');</code></pre><p>The above code will output the following HTML in the header:</p><pre><code>&lt;link rel='stylesheet' id='bigred-print-css'  href='/path-to/print.css?ver=1.0' type='text/css' media='print' /&gt;</code></pre><p>The first step is to wrap the above html in noscript tags, the WordPress <a
title="filter" href="http://codex.wordpress.org/Plugin_API#Filters">filter</a> <code>style_loader_tag</code> is ideal for this.</p><pre><code>function js_printcss($tag, $handle) {
  global $wp_styles;
  if ($wp_styles-&gt;registered[$handle]-&gt;args == 'print') {
    $tag = "&lt;noscript&gt;" . $tag . "&lt;/noscript&gt;";
  }
  return $tag;
}
add_filter('style_loader_tag', 'js_printcss', 5, 2);</code></pre><p>The filter runs for all stylesheets, regardless of media type, so the function checks for print stylesheets and wraps them in the <code>noscript</code> tag, other media types are left alone.</p><p>The first two arguments are the filter and function names respectively, the third argument specifies the timing (5 is the default) and the final argument tells WordPress how many arguments to pass to the filter – two – in this case $tag and $handle.</p><p>With the new filter, WordPress now outputs following HTML in the header:</p><pre><code>&lt;noscript&gt;
&lt;link rel='stylesheet' id='bigred-print-css'  href='/path-to/print.css?ver=1' type='text/css' media='print' /&gt;
&lt;/noscript&gt;</code></pre><p>The next step is to add the JavaScript to load the stylesheets, we can do this by changing our original function, <code>js_printcss</code>, and making use of a global variable:</p><pre><code>$printCSS = '';

function js_printcss($tag, $handle){
  global $wp_styles, $printCSS;
  if ($wp_styles-&gt;registered[$handle]-&gt;args == 'print') {

    $tag = "&lt;noscript&gt;" . $tag . "&lt;/noscript&gt;";

    preg_match("/&lt;\s*link\s+[^&gt;]*href\s*=\s*[\"']?([^\"' &gt;]+)[\"' &gt;]/", $tag, $hrefArray);
    $href = $hrefArray[1];

    $printCSS .= "var cssNode = document.createElement('link');";
    $printCSS .= "cssNode.type = 'text/css';";
    $printCSS .= "cssNode.rel = 'stylesheet';";
    $printCSS .= "cssNode.href = '" . esc_js($href) . "';";
    $printCSS .= "cssNode.media = 'print';";
    $printCSS .= "document.getElementsByTagName(\"head\")[0].appendChild(cssNode);";
  }
  return $tag;
}</code></pre><p>The code creates the PHP variable <code>$printCSS</code> globally, which is then called into the function using the global command.</p><p>After wrapping the tag in the <code>noscript</code> tags, the new function uses a regular expression to extract the URL of the stylesheet from the link tag and placing it the variable <code>$href</code>.</p><p>Having extracted the stylesheet&#8217;s URL, the function then appends the required JavaScript to the PHP global variable <code>$printCSS</code>.</p><p>The final step is to add the JavaScript to the footer of the HTML using the wp_footer action in WordPress. The PHP to do this is:</p><pre><code>function printCSS_scriptTags(){
  global $printCSS;
  if ($printCSS != '') {
    echo "&lt;script type='text/javascript'&gt;\n";
    echo "window.onload = function(){\n";
    echo $printCSS;
    echo "}\n&lt;/script&gt;";
  }
}

add_action('wp_footer', 'printCSS_scriptTags');</code></pre><p>The above code uses <code>window.onload</code> as dictated in the original article. A better method would be to use an event listener to do the work, for those using jQuery we would change the function to:</p><pre><code>function printCSS_scriptTags(){
  global $printCSS;
  if ($printCSS != '') {
    echo "&lt;script type='text/javascript'&gt;\n";
    echo "jQuery(window).ready(function(){\n";
    echo $printCSS;
    echo "});\n&lt;/script&gt;";
 }

}
add_action('wp_footer', 'printCSS_scriptTags');</code></pre><p>The above solution had been tested for very limited circumstances only and found to have worked. Were I to use the function in a production environment I would undertake further testing.</p><p>Another question to ask is whether all this is actually worth the effort – even when reduced through automation. On Big Red Tin, the print.css is 595 bytes, the delay in rendering is negligible.</p><p><strong>Update Aug 23, 2010</strong>: Fixed a type in the code block redefining <code>js_printcss</code>.</p><p><strong>Update Aug 27, 2010</strong>: I&#8217;ve decided to release this as a plugin, get the skinny and the plugin from the <a
href="/behind-the-websites/delay-print-css-plugin/">followup article</a>.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/delay-loading-of-print-css/feed/</wfw:commentRss> <slash:comments>0</slash:comments> </item> <item><title>JavaScript the WordPress Way / Part 2</title><link>/behind-the-websites/javascript-the-wordpress-way-part-2/</link> <comments>/behind-the-websites/javascript-the-wordpress-way-part-2/#comments</comments> <pubDate>Fri, 04 Jun 2010 00:00:20 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[coding]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[JavaScript]]></category> <category><![CDATA[plugin]]></category> <category><![CDATA[theme]]></category> <category><![CDATA[WordPress]]></category> <category><![CDATA[wp_enqueue_script]]></category> <category><![CDATA[wp_enqueue_style]]></category> <category><![CDATA[wp_register_script]]></category> <category><![CDATA[wp_register_style]]></category><guid
isPermaLink="false">http://bigredtin.pressgiant.net/?p=499</guid> <description><![CDATA[In Part 1 we introduced the <code>wp_register_script</code> and <code>wp_enqueue_script</code> functions developed to avoid JavaScript conflicts.In this section we’ll deal with a more complicated example. We’ll also take what we’ve learnt about including JavaScript and apply it to our CSS.]]></description> <content:encoded><![CDATA[<p>In <a
title="Part 1" href="/behind-the-websites/javascript-the-wordpress-way-part-1/">Part 1</a> we discussed the conflicts that can occur on a WordPress site if themes and plugins add JavaScript using &lt;script&gt; tags. We introduced the <code>wp_register_script</code> and <code>wp_enqueue_script</code> functions developed to avoid these conflicts.</p><p>In this section we&#8217;ll deal with a <a
title="more complicated example" href="#jswp2complicated">more complicated example</a> and <a
title="use Google's AJAX libraries API" href="#jswp2googleapi">use Google&#8217;s AJAX libraries API</a> to lower your bandwidth costs. We&#8217;ll also take what we&#8217;ve learnt about including JavaScript and <a
title="apply it to our CSS" href="#jswpcss">apply it to our CSS</a>.<span
id="more-499"></span></p><h4 id="jswp2complicated">A more complicated example</h4><p>The <a
title="sample code yesterday" href="/behind-the-websites/javascript-the-wordpress-way-part-1/#jswpregister">sample code yesterday</a> included a simple example of using the same JavaScript file throughout your site. Let&#8217;s spice things up slightly by introducing the following circumstance. Consider that you have three JavaScript files:</p><ul><li><strong>base.js</strong> is the base JavaScript file to be used throughout the site. It uses the jQuery library and must load in the HTML &lt;head&gt;;</li><li><strong>posts.js</strong> loads on pages and posts and only calls functions from the base JavaScript file but doesn&#8217;t use the jQuery library directly. It can load in the HTML footer.</li><li><strong>archives.js</strong> loads on all other pages throughout your site (except admin). It calls functions from your base JavaScript file and makes direct use of the jQuery library. It can load in the HTML footer.</li></ul><p>In this situation, you could change your base.js to use another library – say, Prototype – and it would have no effect on the posts.js. So, posts.js can be said not to depend on jQuery directly.</p><p>Changing libraries would require edits to the third file, in which case archives.js does depend on jQuery directly.</p><h5>Registering the Files</h5><p>The code to register those JavaScript files and conditions with WordPress is:</p><pre><code>wp_register_script (
  'mytheme-base', /* handle */
  get_bloginfo('template_url') . '/base.js', /* source */
  array('jquery'), /* requires jQuery */
  1.0 /* version 1.0 */
);

wp_register_script (
  'mytheme-posts', /* handle */
  get_bloginfo('template_url') . '/posts.js', /* source */
  array('mytheme-base'), /* requires base.js */
  1.0, /* version 1.0 */
  true /* load in footer */
);

wp_register_script (
  'mytheme-archives', /* handle */
  get_bloginfo('template_url') . '/archives.js', /* source */
  array('jquery', 'mytheme-base'), /* requires jQuery &amp; base.js */
  1.0, /* version 1.0 */
  true /* load in footer */
);</code></pre><p>This code says to WordPress:</p><ul><li> If loading posts.js, also load base.js;</li><li> If loading archives.js, also load jQuery and base.js;</li><li> If loading base.js, also load jQuery;</li></ul><p>Each of these are separate checks (if) rather than a series of options (if, else if).</p><h5>Enqueueing the files</h5><p>All the hard work has been done registering the files, WordPress knows what each file requires to work and where in the HTML (&lt;head&gt; or footer) the &lt;script&gt; tags should be inserted.</p><p>Now it&#8217;s a simple process of checking if the visitor is loading a post or page and requesting the appropriate file.</p><p>We need to delay the check slightly, otherwise WordPress won&#8217;t know if the user is on a page, post or elsewhere. The first step is to enclose the check in a function.</p><pre><code>function que_scripts(){
  if (!is_admin()) { //visitors only
    if (is_singular()) { // pages &amp; posts
      wp_enqueue_script('mytheme-posts');
    }
    else {
      wp_enqueue_script('mytheme-archives');
    }
  }
}</code></pre><p>Then tell WordPress when to execute the function. For this we use the <a
title="action" href="http://codex.wordpress.org/Plugin_API#Hooks.2C_Actions_and_Filters">action</a> wp_print_scripts. This runs the code above before WordPress attempts to output the <code>&lt;script&gt;</code> tags to your HTML.</p><pre><code>add_action('wp_print_scripts', 'que_scripts')</code></pre><p>There is no need to enqueue jQuery or base.js directly. WordPress knows to add those to the HTML based on the dependancies listed when registering the files.</p><h4 id="jswp2googleapi">Using the Google AJAX Libraries API</h4><p>Loading all these libraries from your own server may seem like a waste of your bandwidth considering you could be loading the libraries directly from Google&#8217;s servers.</p><p>With a bit of luck, your visitor will have Google&#8217;s version of the libraries in their browser&#8217;s cache already and <a
title="your site will load a little quicker" href="/behind-the-scenes/caching-on-the-google-ajax-libraries-api/">your site will load a little quicker</a>.</p><p>It&#8217;s a bit messy to do this yourself, especially since jQuery needs to be kept in noConflict mode. Fortunately <a
title="Jason Penny" href="http://jasonpenney.net/">Jason Penny</a> has developed a plugin, called “<a
title="Use Google Libraries" href="http://wordpress.org/extend/plugins/use-google-libraries/">Use Google Libraries</a>”, to do the hard work for you.</p><p>“Use Google Libraries” is the first plugin I add when setting up sites for me and my clients.</p><h4 id="jswp2superfab">Making our super-broken example super-fabulous</h4><p>If, when developing their theme and plugin, George and Richard <a
title="from our example in Part 1" href="/behind-the-websites/javascript-the-wordpress-way-part-1/#jswpproblem">from our  example in Part 1</a>, had used the <code>wp_register_script</code> and <code>wp_enqueue_script</code> WordPress functions to load their JavaScript, WordPress would know that only one version of jQuery needs to be loaded for both the theme and the plugin to work.</p><p>As WordPress releases come in fits and bursts, sometimes the version of the JS libraries included with WordPress fall behind the current version of the library available otherwise.</p><p>This is a small price to pay for the knowledge that our sites will remain super-fabulous rather than super-broken, at least when it comes to the JavaScript.</p><h4 id="jswpcss">A bonus for CSS</h4><p>By now the reasons for using <code>wp_register_script</code> and <code>wp_enqueue_script</code> should be clear. If you want to go that one step further, you can use the equivalent functions for your CSS.</p><p>As CSS should always be loaded in the HTML &lt;head&gt;, there is no option to load the CSS files in the footer of the HTML. Otherwise the CSS functions take the same arguments as their JavaScript equivalents. The CSS functions are:</p><ul><li>wp_register_style</li><li>wp_enqueue_style</li></ul><p>The four parameters they take are:</p><dl><dt>$handle</dt><dd>(required for both functions) Name of the style sheet</dd><dt>$source</dt><dd>(required for <code>wp_register_style</code>) – URL of the script. Also required by <code>wp_enqueue_style</code> if the style is unregistered.</dd><dt>$dependancies</dt><dd>(optional) – an array of handles the style sheet depends on</dd><dt>$version</dt><dd>(optional) – version number</dd></dl><p>WordPress doesn&#8217;t include any style sheets bases, such as YUI CSS, in the default distribution, so the main purpose of the CSS functions is to allow you to keep track of your version numbers and to call in style sheets only as they&#8217;re needed.</p><h4>Conditional comments</h4><p>Unfortunately the WordPress functions for JavaScript do not allow for conditional comments, so scripts targeting older versions of IE (okay, I&#8217;m referring to PNG fixers for IE6) need to be coded directly into your theme&#8217;s header.php or footer.php.</p><p>On the other hand, the CSS functions do allow for conditional comments, in a round-about fashion. Let&#8217;s register a CSS file we&#8217;ll be targeting at IE6.</p><pre><code>wp_register_style (
  'mytheme-ie6', /* handle */
  get_bloginfo('template_url') . '/ie6.css', /* source */
  array('mytheme-css'), /* requires mytheme-css (not shown) */
  1.0 /* version 1.0 */
);</code></pre><p>Behind the scenes WordPress is adding the stylesheet to the object $wp_styles. To add the conditional comments you need to access the object more directly. To target the above to IE6, the command is:</p><pre><code>$wp_styles-&gt;registered['mytheme-ie6']-&gt;extra['conditional'] = 'IE 6';</code></pre><p>If, as in the complicated example above, you need to check where a user is before enqueueing your stylesheet, again you need to enclose the enqueueing command in a function and run it on an action, in this case the action <code>wp_print_styles</code>.</p><p>For example, to output the IE6 stylesheet above on pages and posts only, the full code would be:</p><pre><code>function que_styles(){
  if (!is_admin()) { //visitors only
    if (is_singluar() {
      wp_enqueue_style('mytheme-ie6');
    }
  }
}

add_action('wp_print_styles', 'que_styles')</code></pre><h4>Conclusion</h4><p>The methods described in this tutorial may appear to complicate matters for little pay off, especially if you&#8217;re developing a theme or plugin for your own site.</p><p>Replacing your &lt;script&gt; tags with the code above, it is true, will have almost no effect on the HTML or JavaScript output by WordPress. What&#8217;s worse, if you use the $ alias for jQuery in your JavaScript, you&#8217;ll need to edit both the theme&#8217;s php and JavaScript files.</p><p>These functions, <code>wp_register_script</code> and <code>wp_enqueue_script</code>, aren&#8217;t about now, however, they&#8217;re about “then”.</p><ul><li>Then&#8230; I activated this plugin and my JavaScript stopped working.</li><li>Then&#8230; I changed the theme and my favourite plugin stopped working</li><li>Then&#8230; I looked at the source code, and two copies of jQuery were being sent to every visitor</li></ul><p>The WordPress developers have seen the problems JavaScript conflicts can cause, and developed these functions to make your theme or plugin more robust. It&#8217;s the added robustness, for such little effort, that make these functions worth using.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/javascript-the-wordpress-way-part-2/feed/</wfw:commentRss> <slash:comments>0</slash:comments> </item> <item><title>Rounded Corners Everywhere</title><link>/behind-the-websites/rounded-corners-everywhere/</link> <comments>/behind-the-websites/rounded-corners-everywhere/#comments</comments> <pubDate>Wed, 26 May 2010 02:34:42 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[border-radius]]></category> <category><![CDATA[browser support]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[CSS3]]></category> <category><![CDATA[rgba]]></category> <category><![CDATA[rounded corners]]></category><guid
isPermaLink="false">http://bigredtin.pressgiant.net/?p=431</guid> <description><![CDATA[Similar support of <a
title="rgba" href="http://24ways.org/2009/working-with-rgba-colour">rgba</a> and <a
title="border-radius" href="http://www.zenelements.com/blog/css3-border-radius-rounded-corners/">border-radius</a> in modern browsers allows us to use both the old graphical and new css3 methods for rounded corners. This gives us the same look in almost all browsers.]]></description> <content:encoded><![CDATA[<p>Spending some time looking at CSS3 support on <a
title="Can I Use dot com" href="http://caniuse.com">caniuse.com</a>, I noticed how similar browser support for <a
title="border-radius" href="http://www.zenelements.com/blog/css3-border-radius-rounded-corners/">border-radius</a> and <a
title="rgba colours" href="http://24ways.org/2009/working-with-rgba-colour">rgba colours</a> is:</p><p><img
class="alignnone size-large wp-image-432" title="RGBA support Vs border-radius support" src="/files/2010/05/rgba-vs-border-radius-635x488.jpg" alt="RGBA support Vs border-radius support" width="635" height="488" /><br
/> – <a
title="source" href="http://caniuse.com/#agents=All&amp;eras=All&amp;cats=CSS3&amp;statuses=rec,pr,cr,wd,ietf">source</a><br
/> The striking similarity allows us to use both the old graphical and new css3 methods for rounded corners, giving us the same look in almost all browsers but without wasting the bandwidth of users with modern browsers.</p><p>At Big Red Tin, we&#8217;ve used this method for the top corners of the twitter bubble on the left, the relevant CSS is:</p><pre><code>.aktt_widget .aktt_tweets {
  background: #999
              url(10pxrounded-210w-24.png)
              no-repeat top center;

  background: rgba(153,153,153,1) none;

     -moz-border-radius: 10px; /* FF1+ */
  -webkit-border-radius: 10px; /* Saf3+, Chrome */
          border-radius: 10px; /* Opera 10.5, IE 9 */
}</code></pre><p>– <a
title="source" href="http://css.assets.sgiant.com/pressgiant/wp-content/themes/bigredtin/assets/child/c/screen/screen.css">source</a> (search for .aktt_widget .aktt_tweets)</p><p>Browsers that don&#8217;t support rgba colours use the first background call which includes an image to emulate rounded corners. Browsers that do support rgba use the second background call, which includes a fully opaque colour but no background image, for the most part these browser can interpret the border-radius calls that follow.</p><p>This method falls over in Opera 10.1, which displays a square border, and will fall over in IE9, which will interpret the border-radius call <em>and</em> download the image. I don&#8217;t see these couple of exceptions as a big problem, as browser support always involves catering to the majority.</p><p>Do you exploit a similar coincidence of browser support? <a
title="Share it in the comments" href="/behind-the-websites/rounded-corners-everywhere/#comments">Share it in the comments</a>.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/rounded-corners-everywhere/feed/</wfw:commentRss> <slash:comments>0</slash:comments> </item> <item><title>Charging for themes? Do the right thing!</title><link>/behind-the-websites/charging-for-themes-do-the-right-thing/</link> <comments>/behind-the-websites/charging-for-themes-do-the-right-thing/#comments</comments> <pubDate>Thu, 12 Nov 2009 00:23:42 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[JavaScript]]></category> <category><![CDATA[rants]]></category> <category><![CDATA[themes]]></category> <category><![CDATA[WordPress]]></category><guid
isPermaLink="false">http://soupgiant.com/?p=240</guid> <description><![CDATA[Of all the Wordpress functions, I think wp_register_script, wp_register_style, wp_enqueue_script, and, wp_enqueue_style are the most elegant.]]></description> <content:encoded><![CDATA[<p>Of all the WordPress functions, I think <code>wp_register_script</code>, <code>wp_register_style</code>, <code>wp_enqueue_script</code>, and, <code>wp_enqueue_style</code> are the most elegant. It&#8217;s possible to get away with using only the <code>wp_enqueue_*</code> functions, but I prefer to use both for a little bit more control.</p><p>For the uninitiated, these functions allow you to add JavaScript and CSS files to the header (or footer, in later versions of <abbr
title="WordPress">WP</abbr>) without running of the risk of another plugin adding the same file, that is, you avoid the following:</p><pre><code>&lt;script type="text/javascript" source="http://.../a-plugin/jQuery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" source="http://.../a-plugin/plugin.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" source="http://.../my-theme/jQuery.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript" source="http://.../my-theme/theme.js"&gt;&lt;/script&gt;</code></pre><p>If you develop themes or plugins for WordPress and are unaware of these functions, you should refer to the codex to get the low down on at least <code><a
href="http://codex.wordpress.org/Function_Reference/wp_enqueue_script">wp_enqueue_script</a></code>, and <code><a
href="http://codex.wordpress.org/Function_Reference/wp_enqueue_style">wp_enqueue_style</a></code> &#8211; these register and queue the files, the <code>wp_register_*</code> functions register the file ready to be queued for output.</p><h4>The Rant</h4><p>Despite the value these functions can add to themes and plugins, they are under-utilised in development. The functions have wider adoption in plug-in development, but it&#8217;s still well below 100%. In theme development adoption is virtually non-existent (at least in the themes I&#8217;ve used).</p><p>This failure to code properly is evenly spread across both free and paid themes. I?m happy to look the other way for free themes. After all, the motivation behind the theme may have been to learn WordPress development.</p><p>In commercial themes, particularly those above the US$30-$35 price point, it&#8217;s downright frustrating that these products haven&#8217;t been developed properly.</p><p>When someone purchases a theme, they shouldn&#8217;t have to debug the product to find out why a JavaScript framework is being included twice. The reason for the purchase is that they either don&#8217;t want to, or know how to, develop.</p><h4>Avoiding costly mistakes</h4><p>Evaluating a commercial theme on behalf of a client triggered this rant. At $195, it&#8217;s quite expensive in the world of WordPress. As I was viewing the source code of the online demo, I discovered the <em>faux pas</em>. We&#8217;ll advise against using that theme as a starting point. In fact, within short time we&#8217;d found a theme $195 cheaper that would do the job.</p><p>Looking at the source code of a demo site is usually enough to tell you how the theme is inserting its scripts:</p><ul><li>Both &lt;link&gt; and &lt;script&gt; tags will use single quotes around attributes (&#8216;), rather than double quotes (&#8220;),</li><li>CSS &lt;link&gt; tags will have an ID attribute ending in -css, eg: id=&#8217;shadowbox-css-css&#8217;, and,</li><li>JavaScript and CSS files include the version number as a query string eg jQuery.js?ver=1.3.2 (although a hook can be used to remove this)</li></ul><p>Making sure that the <code>wp_register_script</code>, <code>wp_register_style</code>, <code>wp_enqueue_script</code>, and, <code>wp_enqueue_style</code> are included properly will save time, bandwidth and also avoid some detrimental conflicts.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/charging-for-themes-do-the-right-thing/feed/</wfw:commentRss> <slash:comments>0</slash:comments> </item> <item><title>Why I will not be dropping support for IE6</title><link>/behind-the-websites/not-dropping-ie6/</link> <comments>/behind-the-websites/not-dropping-ie6/#comments</comments> <pubDate>Wed, 07 Jan 2009 01:30:58 +0000</pubDate> <dc:creator>Peter Wilson</dc:creator> <category><![CDATA[Behind the Websites]]></category> <category><![CDATA[CSS]]></category> <category><![CDATA[doctype]]></category> <category><![CDATA[ie6]]></category> <category><![CDATA[internet explorer]]></category> <category><![CDATA[quirks mode]]></category> <category><![CDATA[standards mode]]></category> <category><![CDATA[xhtml]]></category><guid
isPermaLink="false">http://peterwilson.cc/?p=97</guid> <description><![CDATA[Increasingly I'm reading of web developers deciding to drop IE6 from their list of supported browsers, usually, because of its creative interpretation of CSS standards, besides IE7 is over a year old, and, IE8 about to be released.]]></description> <content:encoded><![CDATA[<p>Increasingly I&#8217;m reading of web developers deciding to drop <abbr
title="Internet Explorer 6">IE6</abbr> from their list of supported browsers, usually, because of its <em>creative</em> interpretation of CSS standards, besides <abbr
title="Internet Explorer 7">IE7</abbr> is over a year old, and, <abbr
title="Internet Explorer 8">IE8</abbr> about to be released.</p><p>I&#8217;ve decided to continue support for <abbr
title="Internet Explorer 6">IE6</abbr> as it&#8217;s still in wide use &#8211; especially in corporate environments &#8211; and, I don&#8217;t think it needs to take a lot of work to develop for. I&#8217;ll say that again, I don&#8217;t think <abbr
title="Internet Explorer 6">IE6</abbr> is as bad it&#8217;s sometimes made out to be.</p><p><span
id="more-97"></span><abbr
title="Internet Explorer 6">IE6</abbr> is the difficult child of the browser family &#8211; but like most difficult children, with the right tools it can be made to behave. <abbr
title="Internet Explorer 7">IE7</abbr> is better behaved than <abbr
title="Internet Explorer 6">IE6</abbr>, but let&#8217;s not fool ourselves, it&#8217;s not the glowing example of a perfect browser, and requires hacks of its own.</p><h4>Standards Mode</h4><p>The best tool to reduce <abbr
title="Internet Explorer 6">IE6</abbr>&#8216;s development time is to move the browser out of <a
title="Quirks Mode" href="http://en.wikipedia.org/wiki/Quirks_mode">quirks mode</a> and into standards mode using an appropriate DOCTYPE, and, leaving off the XML declaration; I code in XHTML Strict, so my files begin:</p><pre><code>&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"&gt;
&lt;html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"&gt;</code></pre><p>In standards mode the browser will inherit font styles within tables, use the W3C box model and vertical alignment defaults.</p><h4>Comments</h4><p>Create a standard comment format for your main CSS file which you can use when you know you&#8217;re going to have to write a hack for the <abbr
title="Internet Explorer 6">IE6</abbr> style sheet, such as <code>/*HACK ie6 ... */;</code> rather than flicking between your main and <abbr
title="Internet Explorer 6">IE6</abbr> style sheets during standards development, you can just search for hack comments during non-standards development.</p><pre><code>#someDiv {
min-height: 300px; /* HACK ie6 - height: 300px */
float: left; /* HACK ie6 - 3px jog (adjacent), zoom: 1 */
}</code></pre><h4>Surprises</h4><p>Once you&#8217;ve specified the DOCTYPE, and, repaired known hacks, <abbr
title="Internet Explorer 6">IE6</abbr> is likely to surprise you with a few more creative problems, positioning, an extra few pixels here and there and other little tricks; but by ruling out the obvious in advanced, overall debugging will become less time consuming.</p><p>As I said above, <abbr
title="Internet Explorer 7">IE7</abbr> requires its own set of hacks. If browser specific debugging is required anyway, I don&#8217;t think it&#8217;s overly time consuming to continue support for <abbr
title="Internet Explorer 6">IE6</abbr>.</p> ]]></content:encoded> <wfw:commentRss>/behind-the-websites/not-dropping-ie6/feed/</wfw:commentRss> <slash:comments>7</slash:comments> </item> </channel> </rss>
<!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/

Minified using disk
Page Caching using disk (enhanced)
Database Caching 56/64 queries in 0.012 seconds using apc
Content Delivery Network via sg.assets.sgiant.com/pressgiant

Served from: bigredtin.com @ 2011-01-01 17:33:55 -->