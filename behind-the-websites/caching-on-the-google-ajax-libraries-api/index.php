<?php
$year = '2009',3],['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'http://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();</script> <link rel='stylesheet' id='soup-allmedia-css'  href='/wp-content/themes/bigredtin/assets/child/c/all-media/all-media-min.css?ver=20101202.02' type='text/css' media='all' /> <!--[if IE 6]><link rel='stylesheet' id='soup-allmedia-ie6-css'  href='/wp-content/themes/bigredtin/assets/child/c/all-media/all-media-ie6-min.css?ver=20101202.02' type='text/css' media='all' /> <![endif]--> <!--[if IE 7]><link rel='stylesheet' id='soup-allmedia-ie7-css'  href='/wp-content/themes/bigredtin/assets/child/c/all-media/all-media-ie7-min.css?ver=20101202.02' type='text/css' media='all' /> <![endif]--><link rel='stylesheet' id='contact-form-7-css'  href='/wp-content/plugins/contact-form-7/styles.css?ver=2.4.2' type='text/css' media='all' /> <script type='text/javascript' src='http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js'></script> <link rel="EditURI" type="application/rsd+xml" title="RSD" href="/xmlrpc.php?rsd" /><link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/wp-includes/wlwmanifest.xml" /><link rel='index' title='Big Red Tin' href='/' /><link rel='start' title='Don&#8217;t start with a reset.css' href='/behind-the-websites/dont-start-with-a-resetcss/' /><link rel='prev' title='Why I will not be dropping support for IE6' href='/behind-the-websites/not-dropping-ie6/' /><link rel='next' title='Always Start with Content' href='/content-strategy/always-start-with-content/' /><link rel='shortlink' href='/?p=106' /><meta name="description" content="Using the Google Ajax Libraries API, there are several options for specifying the version numbers of the library you wish to use" /><meta name="keywords" content="google, jquery, ajax, api, caching, browser, performance,ajax,caching,javascript,jquery" /><link rel="canonical" href="/behind-the-websites/caching-on-the-google-ajax-libraries-api/" />  <script type="text/javascript">var _wpcf7={cached:1};</script> <link rel="shortcut icon" type="image/x-icon" href="/wp-content/themes/bigredtin/assets/child/i/favicon.ico" /><link rel="icon" type="image/x-icon" href="/wp-content/themes/bigredtin/assets/child/i/favicon.ico" /><meta name="viewport" content="width=device-width, initial-scale=1.0"></head><body id="brt" class="nojs nojswin bxSngl bxAllBlog bxPost bxP-caching-on-the-google-ajax-libraries-api bxP-id106 bxPC-behind-the-websites bxPTag-ajax bxPTag-caching bxPTag-google bxPTag-javascript bxPTag-jquery bxPA-peter"><div id="pageWrap" class="brt"><div id="header"><div id="siteDetails"><p id="siteName"><a href="http://bigredtin.com"><img src="/wp-content/themes/bigredtin/assets/child/i/logo-white-24.png" class="screen" width="323" height="90" alt="Big Red Tin  | Thoughts about the web and business from the large pantry" title="Big Red Tin | Thoughts about the web and business from the large pantry" /><img src="/wp-content/themes/bigredtin/assets/child/i/logo-colour-24.png" class="print" width="323" height="90" alt="" title="" /></a></p></div><div id="headerWidgets"></div></div><div id="container"><div id="navWrap" class="navWrap"></div><div id="content"><div id="contentHeadA" class="hentry p1 post publish post-caching-on-the-google-ajax-libraries-api author-peter-wilson cat-behind-the-websites tagged tag-ajax tag-caching tag-google tag-javascript tag-jquery"><div id="contentHead"><h1 class="entry-title" id="pageName"> <a href="/behind-the-websites/caching-on-the-google-ajax-libraries-api/" title="Caching on the Google AJAX Libraries API" rel="bookmark"> Caching on the Google AJAX Libraries API </a></h1><p class="entry-date"><span class="published" title="2009-01-16T13:49:41+00:00">16 Jan '09</span></p></div><div id="contentA"><div class="entry-meta"><p class="details"> <span class="author vcard">By <a class="url fn n" href="/author/peter/" title="View all posts by Peter Wilson">Peter Wilson</a></span> <span class="cat-links"> in <a href="/behind-the-websites/" title="View all posts in Behind the Websites" rel="category tag">Behind the Websites</a></span></p><p class="comments-link"> Responses are closed</p></div><div class="entry-content"><p>Using the <a title="Google Ajax Libraries API" href="http://code.google.com/apis/ajaxlibs/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','code.google.com/apis/ajaxlibs/']);">Google AJAX Libraries API</a>, there are several options for specifying the version numbers of the library you wish to use, for example the following URLs all point to the latest version &#8211; at the time of writing &#8211; of jQuery.</p><ol><li><a href="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js']);">http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js</a>,</li><li><a href="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js']);">http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js</a>, and,</li><li><a href="http://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js']);">http://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js</a></li></ol><p>The first uses the latest release in the version 1 tree, the second the latest in the version 1.3 tree, and the third the release 1.3.0 exactly. What I found interesting &#8211; and discovered accidently &#8211; is the browser caching times for each of these urls; the first two are cached for an hour, the third for twelve months.</p><p>The vastly different caching times make perfect sense, in the first two cases, the developer is expecting an upgrade to the latest version, and doesn&#8217;t want to wait up to twelve months for it; in the third case the developer doesn&#8217;t expect an upgrade so an extended caching period has no effect.</p><p>To take full advantage of the Google servers, as described in a recent article by <a title="3 reasons why you should let Google host jQuery for you" href="http://encosia.com/2008/12/10/3-reasons-why-you-should-let-google-host-jquery-for-you/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','encosia.com/2008/12/10/3-reasons-why-you-should-let-google-host-jquery-for-you/']);">Dave Ward</a>, the caching times suggest it&#8217;s best to specify the full version of the library you wish to use.</p><h4>google.load Method &#8211; Update Jan 24, 2009</h4><p><span id="more-106"></span>Further investigation shows that the Google load method uses the full URL for the less specific version requests, for example the following will load <a href="http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js']);">ajax.googleapis.com[...]/1.3.1/jquery.min.js</a>* ? at the time of writing ? and cache the file for twelve months.</p><pre><code>&lt;script src="http://www.google.com/jsapi"&gt;&lt;/script&gt; &lt;script&gt;   /* &lt;![CDATA[ */   google.load("jquery", "1"); //latest version in the v1 tree   /* ]]&gt; */ &lt;/script&gt;</code></pre><p>The jsapi file is not cached, so a additional 5K is downloaded for every page hit on your website; if a visitor loads more than three pages an hour then the advantage of the longer caching time is lost. As always, it&#8217;s a matter of compromise.</p><p>* A minor update to jQuery has been released since the original article was written.</p></div><p class="tag-links entry-meta">Tagged: <a href="/tag/ajax/" rel="tag">AJAX</a> &bull; <a href="/tag/caching/" rel="tag">caching</a> &bull; <a href="/tag/google/" rel="tag">google</a> &bull; <a href="/tag/javascript/" rel="tag">JavaScript</a> &bull; <a href="/tag/jquery/" rel="tag">jQuery</a></p><div id="authorDescription" class="author-description vcard"> <img alt='' src='http://1.gravatar.com/avatar/d6fa5fdcd09cd9484ebca5c0844cc13b?s=96&amp;d=http%3A%2F%2Fbigredtin.com%2Fwp-includes%2Fimages%2Fblank.gif&amp;r=G' class='avatar avatar-96 photo' height='96' width='96' /><h2>About<cite class="fn"> Peter Wilson</cite></h2><p>Peter Wilson is a Web Developer based in Melbourne, Australia. He co-founded Web Production firm <a href="http://soupgiant.com/" title="Soupgiant">Soupgiant</a> with Josh Kinal in October 2009.</p></div><div id="page-nav" class="page-nav nav"><div class="page-nav-older"><span class="direction">Previous post: </span><a href="/behind-the-websites/not-dropping-ie6/" rel="prev">Why I will not be dropping support for IE6</a></div><div class="page-nav-newer"><span class="direction">Next post: </span><a href="/content-strategy/always-start-with-content/" rel="next">Always Start with Content</a></div></div><div id="comments"></div></div></div></div><div id="contentC" class="sidebar"><div id="search-3" class="widget widget_search"><form method="get" action="http://bigredtin.com" class="search-form"><div> <label for="s-29101" class="search-label">Search this Site</label> <input type="text" name="s" id="s-29101" class="searchInput inputText" /> <input type="submit" value="Search" class="searchSubmit inputSubmit" /></div></form></div><div id="twitter-tools" class="widget aktt_widget"><h5 class="widget-title">Tasty Tweets</h5><div class="aktt_tweets"><ul><li>Really pleased with the quality of comments we&#039;ve received on Big Red Tin over the last couple of weeks <a href="http://redt.in/gjp7WY" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','redt.in/gjp7WY']);" rel="nofollow">http://redt.in/gjp7WY</a> ^pw <a href="http://twitter.com/bigredtin/statuses/23590074947993600" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','twitter.com/bigredtin/statuses/23590074947993600']);" class="aktt_tweet_time">1 day ago</a></li><li>If the last blog post about details wasn&#039;t enough for you, here are more details web producers must think about. <a href="http://redt.in/hGSId9" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','redt.in/hGSId9']);" rel="nofollow">http://redt.in/hGSId9</a> ^JK <a href="http://twitter.com/bigredtin/statuses/22449010681847808" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','twitter.com/bigredtin/statuses/22449010681847808']);" class="aktt_tweet_time">4 days ago</a></li><li>RT @<a href="http://twitter.com/selectivizr" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','twitter.com/selectivizr']);" class="aktt_username">selectivizr</a>: selectivizr update coming soon to fix a couple of small bugs with @<a href="http://twitter.com/import" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','twitter.com/import']);" class="aktt_username">import</a> rules and relative urls. <a href="http://twitter.com/bigredtin/statuses/22233749680824321" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','twitter.com/bigredtin/statuses/22233749680824321']);" class="aktt_tweet_time">5 days ago</a></li><li class="aktt_more_updates"><a href="http://twitter.com/bigredtin">More updates...</a></li></ul></div></div><div id="text-4" class="widget widget_text"><h5 class="widget-title">B.R.T. by Soupgiant</h5><div class="textwidget"><p>Big Red Tin is presented by <a href="http://soupgiant.com" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','soupgiant.com']);"><strong>Soupgiant</strong></a>.</p><p>The philosophy is simple: <strong>Good content presented in the most efficient, user-friendly and accessible way possible</strong>.</p></div></div></div></div><div id="footer"><div id="footWidgets"><div id="recent-posts-3" class="foot-widget widget widget_recent_entries"><h5 class="widget-title">Recent Posts</h5><ul><li><a href="/design/details-prevent-user-paralysis/" title="Details Prevent User Paralysis">Details Prevent User Paralysis</a></li><li><a href="/quick-notes/caching-google-webfont-loader/" title="Caching Google&#8217;s WebFont Loader">Caching Google&#8217;s WebFont Loader</a></li><li><a href="/quick-notes/soupgiant-wordpress-themes-github/" title="Soupgiant WordPress themes on Github">Soupgiant WordPress themes on Github</a></li><li><a href="/behind-the-websites/html5-couldnt-do-it/" title="HTML5: I couldn&#8217;t (quite) do it">HTML5: I couldn&#8217;t (quite) do it</a></li><li><a href="/quick-notes/branding-is-hard/" title="Branding is hard">Branding is hard</a></li></ul></div><div id="categories-3" class="foot-widget widget widget_categories"><h5 class="widget-title">Categories</h5><ul><li class="cat-item cat-item-557"><a href="/behind-the-websites/" title="Everything to do with website coding that we can think of. Front-end, back-end, upside and down, you&#039;ll find it here. It also contains our thoughts about Content Management Systems (CMS) and all the other little and technical things.">Behind the Websites</a></li><li class="cat-item cat-item-31"><a href="/business/" title="Producing websites is, in itself a business, but it often relates to the business of our clients. We&#039;ll try to put all of those thoughts and processes in here.">Business</a></li><li class="cat-item cat-item-540"><a href="/content-strategy/" title="Content whosawhatnow? When producing websites it&#039;s really important to think about what information you&#039;re going to provide, how it&#039;s going to be displayed and how is it going to affect your audience. That&#039;s content strategy in a nutshell. This is where we crack that nut.">Content Strategy</a></li><li class="cat-item cat-item-54"><a href="/design/" title="Design is so much more than just the graphics. A lot of thought goes in to how something looks, where elements are placed, what does and doesn&#039;t appear and when. You&#039;ll find that information here.">Design</a></li><li class="cat-item cat-item-4574"><a href="/quick-notes/" title="Just like it sounds. This is where we post clippings of interesting things we&#039;ve found (code, opinions, writings, pictures) that deal with all aspects of making the web. We found them interesting. You don&#039;t have to.">Quick Notes</a></li></ul></div><div id="linkcat-530" class="foot-widget widget widget_links"><h5 class="widget-title">Handy Links</h5><ul class='xoxo blogroll'><li><a href="/about/" rel="me" title="About Big Red Tin">About Big Red Tin</a></li><li><a href="http://twitter.com/bigredtin" rel="me" title="Follow Big Red Tin on Twitter" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://twitter.com/bigredtin']);">Follow us on Twitter</a></li><li><a href="/contact" rel="me" title="Get in Contact">Get in Contact</a></li><li><a href="http://feeds.soupgiant.com/bigredtin" rel="me" title="Subscribe to Big Red Tin in your feed reader" target="" onclick="javascript:_gaq.push(['_trackEvent','outbound-blogroll','http://feeds.soupgiant.com/bigredtin']);">Subscribe by RSS</a></li><li><a href="/plugins-themes/" rel="me">WordPress Plugins &amp; Themes</a></li></ul></div><div id="text-3" class="foot-widget widget widget_text"><h5 class="widget-title">Side Credits</h5><div class="textwidget"><ul><li class="copyright">Copyright &copy; 2009 - 2010 <a href="http://soupgiant.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','soupgiant.com/']);">Soupgiant</a></li><li class="credits credits-dev">Developed by <a href="http://soupgiant.com/" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','soupgiant.com/']);">Soupgiant</a></li><li class="credits credits-design">Design by <a href="http://zepol.com.au/" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','zepol.com.au/']);">Zepol</a></li><li class="powered">Inevitably powered by <a href="http://wordpress.org" onclick="javascript:_gaq.push(['_trackEvent','outbound-widget','wordpress.org']);">WordPress</a></li></ul></div></div></div></div></div>  <script type='text/javascript'>try{jQuery.noConflict();}catch(e){};</script> <script type='text/javascript' src='/wp-content/themes/soup02/assets/parent/j/sg-base-min.js?ver=1.1.0'></script> <script type='text/javascript' src='/wp-content/themes/bigredtin/assets/child/j/custom-min.js?ver=1.0.0'></script> <script type='text/javascript' src='/wp-content/plugins/contact-form-7/jquery.form.js?ver=2.47'></script> <script type='text/javascript' src='/wp-content/plugins/contact-form-7/scripts.js?ver=2.4.2'></script> <script src="https://stats.wordpress.com/e-201101.js" type="text/javascript"></script> <script type="text/javascript">st_go({blog:'13871010',v:'ext',post:'106'});var load_cmc=function(){linktracker_init(13871010,106,2);};if(typeof addLoadEvent!='undefined')addLoadEvent(load_cmc);else load_cmc();</script> <!--[if IE 6]> <script type='text/javascript' src='/wp-content/themes/soup02/assets/parent/j/ddbelatedpng-min.js'></script> <script type="text/javascript">if(typeof jQuery=="function"){jQuery(window).ready(function(){DD_belatedPNG.fix('img');});}else{DD_belatedPNG.fix('img');}</script> <![endif]--></body></html>  <!-- Performance optimized by W3 Total Cache. Learn more: http://www.w3-edge.com/wordpress-plugins/    Minified using disk  Page Caching using disk (enhanced)  Database Caching 18/54 queries in 0.008 seconds using apc  Content Delivery Network via sg.assets.sgiant.com/pressgiant    Served from: bigredtin.com @ 2011-01-09 12:26:37 -->